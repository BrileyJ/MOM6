<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MOM6: /glade/work/altuntas/doxygen/MOM6/src/initialization/MOM_state_initialization.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MOM6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('MOM__state__initialization_8F90.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MOM_state_initialization.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;MOM_memory.h&gt;</code><br />
<code>#include &quot;<a class="el" href="version__variable_8h_source.html">version_variable.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for MOM_state_initialization.F90:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="MOM__state__initialization_8F90__incl.svg" width="299" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="MOM__state__initialization_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespacemom__state__initialization"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html">mom_state_initialization</a></td></tr>
<tr class="memdesc:namespacemom__state__initialization"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization functions for state variables, u, v, h, T and S. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a81503d4f1855cb185f122d6314e4f06c"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a81503d4f1855cb185f122d6314e4f06c">mom_state_initialization::mom_initialize_state</a> (u, v, h, tv, Time, G, GV, US, PF, dirs, restart_CS, ALE_CSp, tracer_Reg, sponge_CSp, ALE_sponge_CSp, OBC, Time_in)</td></tr>
<tr class="memdesc:a81503d4f1855cb185f122d6314e4f06c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize temporally evolving fields, either as initial conditions or by reading them from a restart (or saves) file.  <a href="namespacemom__state__initialization.html#a81503d4f1855cb185f122d6314e4f06c">More...</a><br /></td></tr>
<tr class="separator:a81503d4f1855cb185f122d6314e4f06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847ac374f69c4777e3e49a5ebdcebf43"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a847ac374f69c4777e3e49a5ebdcebf43">mom_state_initialization::initialize_thickness_from_file</a> (h, G, GV, US, param_file, file_has_thickness, just_read_params)</td></tr>
<tr class="memdesc:a847ac374f69c4777e3e49a5ebdcebf43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the layer thicknesses or interface heights from a file.  <a href="namespacemom__state__initialization.html#a847ac374f69c4777e3e49a5ebdcebf43">More...</a><br /></td></tr>
<tr class="separator:a847ac374f69c4777e3e49a5ebdcebf43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cb36440a4ef993c4c98170e52a775f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a59cb36440a4ef993c4c98170e52a775f">mom_state_initialization::adjustetatofitbathymetry</a> (G, GV, US, eta, h)</td></tr>
<tr class="memdesc:a59cb36440a4ef993c4c98170e52a775f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust interface heights to fit the bathymetry and diagnose layer thickness.  <a href="namespacemom__state__initialization.html#a59cb36440a4ef993c4c98170e52a775f">More...</a><br /></td></tr>
<tr class="separator:a59cb36440a4ef993c4c98170e52a775f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f7a21e110b80140439dedccaf4fa1c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a06f7a21e110b80140439dedccaf4fa1c">mom_state_initialization::initialize_thickness_uniform</a> (h, G, GV, param_file, just_read_params)</td></tr>
<tr class="memdesc:a06f7a21e110b80140439dedccaf4fa1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes thickness to be uniform.  <a href="namespacemom__state__initialization.html#a06f7a21e110b80140439dedccaf4fa1c">More...</a><br /></td></tr>
<tr class="separator:a06f7a21e110b80140439dedccaf4fa1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade07252728855ac18a50b547f0cb16f7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#ade07252728855ac18a50b547f0cb16f7">mom_state_initialization::initialize_thickness_list</a> (h, G, GV, US, param_file, just_read_params)</td></tr>
<tr class="memdesc:ade07252728855ac18a50b547f0cb16f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize thickness from a 1D list.  <a href="namespacemom__state__initialization.html#ade07252728855ac18a50b547f0cb16f7">More...</a><br /></td></tr>
<tr class="separator:ade07252728855ac18a50b547f0cb16f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1752fe7b4c2a9878165f5ae77201cd30"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a1752fe7b4c2a9878165f5ae77201cd30">mom_state_initialization::initialize_thickness_search</a></td></tr>
<tr class="memdesc:a1752fe7b4c2a9878165f5ae77201cd30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search density space for location of layers (not implemented!)  <a href="namespacemom__state__initialization.html#a1752fe7b4c2a9878165f5ae77201cd30">More...</a><br /></td></tr>
<tr class="separator:a1752fe7b4c2a9878165f5ae77201cd30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4e1b8c587fb11f1ec78e7e30215913"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a9b4e1b8c587fb11f1ec78e7e30215913">mom_state_initialization::convert_thickness</a> (h, G, GV, US, tv)</td></tr>
<tr class="memdesc:a9b4e1b8c587fb11f1ec78e7e30215913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts thickness from geometric to pressure units.  <a href="namespacemom__state__initialization.html#a9b4e1b8c587fb11f1ec78e7e30215913">More...</a><br /></td></tr>
<tr class="separator:a9b4e1b8c587fb11f1ec78e7e30215913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad295781ac5adccf3a80e2323ce77905"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#aad295781ac5adccf3a80e2323ce77905">mom_state_initialization::depress_surface</a> (h, G, GV, US, param_file, tv, just_read_params)</td></tr>
<tr class="memdesc:aad295781ac5adccf3a80e2323ce77905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Depress the sea-surface based on an initial condition file.  <a href="namespacemom__state__initialization.html#aad295781ac5adccf3a80e2323ce77905">More...</a><br /></td></tr>
<tr class="separator:aad295781ac5adccf3a80e2323ce77905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe8ee99793eae86251739a8a1bf572f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#abbe8ee99793eae86251739a8a1bf572f">mom_state_initialization::trim_for_ice</a> (PF, G, GV, US, ALE_CSp, tv, h, just_read_params)</td></tr>
<tr class="memdesc:abbe8ee99793eae86251739a8a1bf572f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the layer thicknesses by cutting away the top of each model column at the depth where the hydrostatic pressure matches an imposed surface pressure read from file.  <a href="namespacemom__state__initialization.html#abbe8ee99793eae86251739a8a1bf572f">More...</a><br /></td></tr>
<tr class="separator:abbe8ee99793eae86251739a8a1bf572f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c6f01824f00611082b6d5f1b6ca738"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a69c6f01824f00611082b6d5f1b6ca738">mom_state_initialization::cut_off_column_top</a> (nk, tv, GV, G_earth, depth, min_thickness, T, T_t, T_b, S, S_t, S_b, p_surf, h, remap_CS, z_tol)</td></tr>
<tr class="memdesc:a69c6f01824f00611082b6d5f1b6ca738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the layer thicknesses by removing the top of the water column above the depth where the hydrostatic pressure matches p_surf.  <a href="namespacemom__state__initialization.html#a69c6f01824f00611082b6d5f1b6ca738">More...</a><br /></td></tr>
<tr class="separator:a69c6f01824f00611082b6d5f1b6ca738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcedb30eb6f940cef3fbdd4328aedef8"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#adcedb30eb6f940cef3fbdd4328aedef8">mom_state_initialization::initialize_velocity_from_file</a> (u, v, G, US, param_file, just_read_params)</td></tr>
<tr class="memdesc:adcedb30eb6f940cef3fbdd4328aedef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize horizontal velocity components from file.  <a href="namespacemom__state__initialization.html#adcedb30eb6f940cef3fbdd4328aedef8">More...</a><br /></td></tr>
<tr class="separator:adcedb30eb6f940cef3fbdd4328aedef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de6eb1d89deb76196b2876c8982a956"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a1de6eb1d89deb76196b2876c8982a956">mom_state_initialization::initialize_velocity_zero</a> (u, v, G, param_file, just_read_params)</td></tr>
<tr class="memdesc:a1de6eb1d89deb76196b2876c8982a956"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize horizontal velocity components to zero.  <a href="namespacemom__state__initialization.html#a1de6eb1d89deb76196b2876c8982a956">More...</a><br /></td></tr>
<tr class="separator:a1de6eb1d89deb76196b2876c8982a956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10655a7937f2239ff8ae9b899f4bc4b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#ac10655a7937f2239ff8ae9b899f4bc4b">mom_state_initialization::initialize_velocity_uniform</a> (u, v, G, US, param_file, just_read_params)</td></tr>
<tr class="memdesc:ac10655a7937f2239ff8ae9b899f4bc4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the initial velocity components to uniform.  <a href="namespacemom__state__initialization.html#ac10655a7937f2239ff8ae9b899f4bc4b">More...</a><br /></td></tr>
<tr class="separator:ac10655a7937f2239ff8ae9b899f4bc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ebdba67fde58a9aa7633bca4c117ba"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#af4ebdba67fde58a9aa7633bca4c117ba">mom_state_initialization::initialize_velocity_circular</a> (u, v, G, US, param_file, just_read_params)</td></tr>
<tr class="memdesc:af4ebdba67fde58a9aa7633bca4c117ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the initial velocity components to be circular with no flow at edges of domain and center.  <a href="namespacemom__state__initialization.html#af4ebdba67fde58a9aa7633bca4c117ba">More...</a><br /></td></tr>
<tr class="separator:af4ebdba67fde58a9aa7633bca4c117ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2156cd3a64fba763c9841cd587f10ea8"><td class="memItemLeft" align="right" valign="top">real function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> (ig, jg)</td></tr>
<tr class="memdesc:a2156cd3a64fba763c9841cd587f10ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of a circular stream function at (ig,jg)  <a href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">More...</a><br /></td></tr>
<tr class="separator:a2156cd3a64fba763c9841cd587f10ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706c24ba7b8a344152ea0d3da051ceb5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a706c24ba7b8a344152ea0d3da051ceb5">mom_state_initialization::initialize_temp_salt_from_file</a> (T, S, G, param_file, just_read_params)</td></tr>
<tr class="memdesc:a706c24ba7b8a344152ea0d3da051ceb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes temperature and salinity from file.  <a href="namespacemom__state__initialization.html#a706c24ba7b8a344152ea0d3da051ceb5">More...</a><br /></td></tr>
<tr class="separator:a706c24ba7b8a344152ea0d3da051ceb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d627f0ef1dc66acc764a40fd662a758"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a7d627f0ef1dc66acc764a40fd662a758">mom_state_initialization::initialize_temp_salt_from_profile</a> (T, S, G, param_file, just_read_params)</td></tr>
<tr class="memdesc:a7d627f0ef1dc66acc764a40fd662a758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes temperature and salinity from a 1D profile.  <a href="namespacemom__state__initialization.html#a7d627f0ef1dc66acc764a40fd662a758">More...</a><br /></td></tr>
<tr class="separator:a7d627f0ef1dc66acc764a40fd662a758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e48fb8f88b20cfbf32a7e50b5394c4"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a87e48fb8f88b20cfbf32a7e50b5394c4">mom_state_initialization::initialize_temp_salt_fit</a> (T, S, G, GV, param_file, eqn_of_state, P_Ref, just_read_params)</td></tr>
<tr class="memdesc:a87e48fb8f88b20cfbf32a7e50b5394c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes temperature and salinity by fitting to density.  <a href="namespacemom__state__initialization.html#a87e48fb8f88b20cfbf32a7e50b5394c4">More...</a><br /></td></tr>
<tr class="separator:a87e48fb8f88b20cfbf32a7e50b5394c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0793ab167463a3bb45114f57cf018a40"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a0793ab167463a3bb45114f57cf018a40">mom_state_initialization::initialize_temp_salt_linear</a> (T, S, G, param_file, just_read_params)</td></tr>
<tr class="memdesc:a0793ab167463a3bb45114f57cf018a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes T and S with linear profiles according to reference surface layer salinity and temperature and a specified range.  <a href="namespacemom__state__initialization.html#a0793ab167463a3bb45114f57cf018a40">More...</a><br /></td></tr>
<tr class="separator:a0793ab167463a3bb45114f57cf018a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5530c08b110dcc964d20dc71fc1f9a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#afb5530c08b110dcc964d20dc71fc1f9a">mom_state_initialization::initialize_sponges_file</a> (G, GV, US, use_temperature, tv, param_file, CSp, ALE_CSp, Time)</td></tr>
<tr class="memdesc:afb5530c08b110dcc964d20dc71fc1f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine sets the inverse restoration time (Idamp), and the values towards which the interface heights and an arbitrary number of tracers should be restored within each sponge. The interface height is always subject to damping, and must always be the first registered field.  <a href="namespacemom__state__initialization.html#afb5530c08b110dcc964d20dc71fc1f9a">More...</a><br /></td></tr>
<tr class="separator:afb5530c08b110dcc964d20dc71fc1f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace20e4d29e01307fc37911d9ce4df2e3"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#ace20e4d29e01307fc37911d9ce4df2e3">mom_state_initialization::set_velocity_depth_max</a> (G)</td></tr>
<tr class="memdesc:ace20e4d29e01307fc37911d9ce4df2e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine sets the 4 bottom depths at velocity points to be the maximum of the adjacent depths.  <a href="namespacemom__state__initialization.html#ace20e4d29e01307fc37911d9ce4df2e3">More...</a><br /></td></tr>
<tr class="separator:ace20e4d29e01307fc37911d9ce4df2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb88f9e67fa49a0dc69b2b3b8ea65bbe"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#acb88f9e67fa49a0dc69b2b3b8ea65bbe">mom_state_initialization::compute_global_grid_integrals</a> (G)</td></tr>
<tr class="memdesc:acb88f9e67fa49a0dc69b2b3b8ea65bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subroutine to pre-compute global integrals of grid quantities for later use in reporting diagnostics.  <a href="namespacemom__state__initialization.html#acb88f9e67fa49a0dc69b2b3b8ea65bbe">More...</a><br /></td></tr>
<tr class="separator:acb88f9e67fa49a0dc69b2b3b8ea65bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eda11f130fa39ea833f7b1e4d099c58"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a9eda11f130fa39ea833f7b1e4d099c58">mom_state_initialization::set_velocity_depth_min</a> (G)</td></tr>
<tr class="memdesc:a9eda11f130fa39ea833f7b1e4d099c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine sets the 4 bottom depths at velocity points to be the minimum of the adjacent depths.  <a href="namespacemom__state__initialization.html#a9eda11f130fa39ea833f7b1e4d099c58">More...</a><br /></td></tr>
<tr class="separator:a9eda11f130fa39ea833f7b1e4d099c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1a2ab2ba01da2b898f5e65ebc30c9d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a4b1a2ab2ba01da2b898f5e65ebc30c9d">mom_state_initialization::mom_temp_salt_initialize_from_z</a> (h, tv, G, GV, US, PF, just_read_params)</td></tr>
<tr class="memdesc:a4b1a2ab2ba01da2b898f5e65ebc30c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine determines the isopycnal or other coordinate interfaces and layer potential temperatures and salinities directly from a z-space file on a latitude-longitude grid.  <a href="namespacemom__state__initialization.html#a4b1a2ab2ba01da2b898f5e65ebc30c9d">More...</a><br /></td></tr>
<tr class="separator:a4b1a2ab2ba01da2b898f5e65ebc30c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807c1c2bb13f172945c7c25f3af7abd1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a807c1c2bb13f172945c7c25f3af7abd1">mom_state_initialization::mom_state_init_tests</a> (G, GV, US, tv)</td></tr>
<tr class="memdesc:a807c1c2bb13f172945c7c25f3af7abd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run simple unit tests.  <a href="namespacemom__state__initialization.html#a807c1c2bb13f172945c7c25f3af7abd1">More...</a><br /></td></tr>
<tr class="separator:a807c1c2bb13f172945c7c25f3af7abd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0d04f34a0f7ba9ce38686ca2ce005508"><td class="memItemLeft" align="right" valign="top"><a class="el" href="version__variable_8h.html#acda997fe1761de4c6bca0f27dc786964">character</a>(len=40)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a0d04f34a0f7ba9ce38686ca2ce005508">mom_state_initialization::mdl</a> = &quot;MOM_state_initialization&quot;</td></tr>
<tr class="memdesc:a0d04f34a0f7ba9ce38686ca2ce005508"><td class="mdescLeft">&#160;</td><td class="mdescRight">This module's name.  <a href="namespacemom__state__initialization.html#a0d04f34a0f7ba9ce38686ca2ce005508">More...</a><br /></td></tr>
<tr class="separator:a0d04f34a0f7ba9ce38686ca2ce005508"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a2156cd3a64fba763c9841cd587f10ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2156cd3a64fba763c9841cd587f10ea8">&#9670;&nbsp;</a></span>my_psi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">real function initialize_velocity_circular::my_psi </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>ig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>jg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of a circular stream function at (ig,jg) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ig</td><td>Global i-index </td></tr>
    <tr><td class="paramname">jg</td><td>Global j-index </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MOM__state__initialization_8F90_source.html#l01416">1416</a> of file <a class="el" href="MOM__state__initialization_8F90_source.html">MOM_state_initialization.F90</a>.</p>
<div class="fragment"><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordtype">integer</span> :: ig<span class="comment"> !&lt; Global i-index</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordtype">integer</span> :: jg<span class="comment"> !&lt; Global j-index</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">! Local variables</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="keywordtype">    real</span> :: x, y, r</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    x = 2.0*(g%geoLonBu(ig,jg)-g%west_lon) / g%len_lon - 1.0  <span class="comment">! -1&lt;x&lt;1</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    y = 2.0*(g%geoLatBu(ig,jg)-g%south_lat) / g%len_lat - 1.0 <span class="comment">! -1&lt;y&lt;1</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    r = sqrt( x**2 + y**2 ) <span class="comment">! Circular stream function is a function of radius only</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    r = min(1.0, r) <span class="comment">! Flatten stream function in corners of box</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> = 0.5*(1.0 - cos(dpi*r))</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <a class="code" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> = <a class="code" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> * (circular_max_u*g%len_lon*1e3 / dpi) <span class="comment">! len_lon is in km</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="MOM__state__initialization_8F90_source.html#l01371">mom_state_initialization::initialize_velocity_circular()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="MOM__state__initialization_8F90_a2156cd3a64fba763c9841cd587f10ea8_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aMOM__state__initialization_8F90_html_a2156cd3a64fba763c9841cd587f10ea8"><div class="ttname"><a href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a></div><div class="ttdeci">real function my_psi(ig, jg)</div><div class="ttdoc">Returns the value of a circular stream function at (ig,jg)</div><div class="ttdef"><b>Definition:</b> <a href="MOM__state__initialization_8F90_source.html#l01416">MOM_state_initialization.F90:1416</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_80d9a72a764e34362c8238d6d43b55a0.html">initialization</a></li><li class="navelem"><a class="el" href="MOM__state__initialization_8F90.html">MOM_state_initialization.F90</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
